services:
  main:
    image: alpine:latest
    command: sh -c "sleep infinity"
    networks:
      - net
  one:
    image: alpine:latest
    command: sh -c "sleep infinity"
    networks:
      net:
        aliases:
          - net1
        interface_name: eth0
        ipv4_address: 10.0.0.2
        ipv6_address: 2001:db8::2
        link_local_ips:
          - 169.254.1.2
          - 169.254.1.3
        mac_address: 02:42:ac:11:00:02
        driver_opts:
          foo: "bar"
          baz: 1
        gw_priority: 1
        priority: 2
  

networks:
  net:
    driver: bridge
    ipam:
      config:
        - subnet: 10.0.0.0/24
          gateway: 10.0.0.1
        - subnet: 2001:db8::/64
          gateway: 2001:db8::1