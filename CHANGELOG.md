# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 7.0.9 - 2025-05-15

* Update dockerode to 4.0.4 [Felipe Lalanne]
* Use JSON serialization for balena build secrets [Felipe Lalanne]

## 7.0.8 - 2025-05-15

* Change docker-modem to a devDependency [Thodoris Greasidis]

## 7.0.7 - 2025-04-11

* Update dependency dockerfile-ast to ^0.7.0 [balena-renovate[bot]]

## 7.0.6 - 2025-04-10

* Update dependency @types/tar-stream to v3 [balena-renovate[bot]]

## 7.0.5 - 2025-04-10

* Update @balena/lint to 9.x [Pagan Gazzard]

## 7.0.4 - 2025-04-09

* Update dependency mocha to v11 [balena-renovate[bot]]

## 7.0.3 - 2025-04-02

* Update dependency @balena/lint to v8 [balena-renovate[bot]]

## 7.0.2 - 2025-03-19

* Update Node.js to v10.24.1 [balena-renovate[bot]]

## 7.0.1 - 2025-03-06

* Add slug to contracts from requirement labels [Felipe Lalanne]

## 7.0.0 - 2025-03-03

* Create image contracts when creating release [Felipe Lalanne]
* Create task contracts from composition labels [Felipe Lalanne]
* Do not validate unique container contract names [Felipe Lalanne]

## 6.0.1 - 2025-02-27

* Use self-hosted CI runners [Felipe Lalanne]
* JSON stringify cachefrom option for builds [Felipe Lalanne]

## 6.0.0 - 2024-12-11

* Make `pinejs-client-core` a peer dependency [myarmolinsky]

## 5.0.0 - 2024-09-17

* Adjust `Request` comment for v7 [myarmolinsky]
* Update `image_size` typing for API v7 [myarmolinsky]
* Update `contract` types for API v7 [myarmolinsky]

## 4.0.1 - 2024-07-19

* Update pinejs-client and make use of improved typings [Pagan Gazzard]

## 4.0.0 - 2024-07-19

* Stop actively supporting v1 docker image format [Otavio Jacobi]
* Fix CI error of tar files created on mac [Otavio Jacobi]
* resolve: Replace request with fetch [Thodoris Greasidis]
* Drop support for node < 20.6.0 [Thodoris Greasidis]
* Drop release.createClient [Thodoris Greasidis]

## 3.2.1 - 2024-02-13

* Upgrade dockerode and docker-modem dependencies [Ken Bannister]
* Prettify fix for consistent-type-imports [Ken Bannister]
* Prettify fix for whitespace [Ken Bannister]

## 3.2.0 - 2023-12-05

* release/createClient: Allow specifying the "retry" options [Thodoris Greasidis]

## 3.1.3 - 2023-11-29

* Update dockerode to 3.3.5 [Pagan Gazzard]

## 3.1.2 - 2023-11-29

* Use the JSONStream typings from @types/jsonstream [Pagan Gazzard]

## 3.1.1 - 2023-11-27

* Make use of `pipeline` for piping streams together [Pagan Gazzard]

## 3.1.0 - 2023-11-13

* Allow injecting any PinejsClientCore compatible API client [Thodoris Greasidis]

## 3.0.7 - 2023-11-10

* NodeResolver: Refactor the recursion to an async-await loop [Thodoris Greasidis]
* Drop bluebird & bluebird-lru-cache in favor of memoizee [Thodoris Greasidis]

## 3.0.6 - 2023-11-10

* Fix the remaining linting errors [Thodoris Greasidis]
* Remove unnecessary regex escaping [Thodoris Greasidis]
* Replace the {} type with object [Thodoris Greasidis]
* Update TypeScript to 5.2.2 and @blaena/lint to v7.2.1 [Thodoris Greasidis]

## 3.0.5 - 2023-11-09

* builder: Fix unawaited buildDir pack() promise [Thodoris Greasidis]

## 3.0.4 - 2023-11-09

* api: Restore the accidentally removed concurrency limits [Thodoris Greasidis]

## 3.0.3 - 2023-11-09

* .mocharc: Use "exit: true" to workaround hanging on completion on node20 [Thodoris Greasidis]
* tests: Fix the expected error message for Dockerfile syntax errors [Thodoris Greasidis]

## 3.0.2 - 2023-07-13

* Remove `cachefrom` from pull options [Felipe Lalanne]
* Skip manifest query for intermediate build stages [Felipe Lalanne]

## 3.0.1 - 2023-07-07

* Use native map where possible [Pagan Gazzard]
* Use native filter [Pagan Gazzard]
* Use native endsWith [Pagan Gazzard]
* Use native includes [Pagan Gazzard]
* Use native Object.assign [Pagan Gazzard]
* Use native Object.keys [Pagan Gazzard]
* Switch to native null check [Pagan Gazzard]
* Switch to native object check [Pagan Gazzard]
* Switch to native string check [Pagan Gazzard]
* Switch to native function check [Pagan Gazzard]
* Switch to native Array.isArray [Pagan Gazzard]

## 3.0.0 - 2023-07-05

* Switch to returning native promises, not bluebird promises [Pagan Gazzard]
* Update minimum nodejs version to 16.13.0 [Pagan Gazzard]
* Update tar-stream and tar-utils to 3.x [Pagan Gazzard]

## 2.3.0 - 2023-07-04

* Use registry credentials to query image manifest [Felipe Lalanne]

## 2.2.2 - 2023-03-21

* Allow PR checks for external contributions [Kyle Harding]

## 2.2.1 - 2023-03-14

* Ignore references to build stages when evaluating manifests [Kyle Harding]

## 2.2.0 - 2023-03-13

* OCI Image Index should allow platform opts [Kyle Harding]

## 2.1.4 - 2023-03-13

* Write to debug log when using platform option [Kyle Harding]

## 2.1.3 - 2023-03-01

* Fixup tests to use recent debian:bullseye-slim images [Kyle Harding]

## 2.1.2 - 2022-10-17

* test/multibuild: Use 127.0.0.1 for the extra_hosts test [Ken Bannister]
* Output error text to aid test debugging [Ken Bannister]
* Replace balenaCI & circleCI with flowzone [Thodoris Greasidis]
* Pin dockerode to v3.3.3 to avoid regression [Ken Bannister]
* Prettify fixup [Ken Bannister]
* Fix underspecified generics in release/models [Ken Bannister]

# v2.1.1
## (2022-08-01)

* Properly mark jsesc as a prod dependency [Thodoris Greasidis]

# v2.1.0
## (2022-07-07)

* Add build task option to use default docker platform behavior [Akis Kesoglou]

# v2.0.0
## (2022-07-01)

* Another manual version bump [dfunckt]

# v1.0.0
## (2022-07-01)

* Manually bump version to avoid clash on npm [Akis Kesoglou]

# v0.1.1
## (2022-07-01)

* Add section for dockerfile-template in README [Akis Kesoglou]

# v0.1.0
## (2022-06-28)

* Import dockerfile-template [Akis Kesoglou]
* Import docker-qemu-transpose [Akis Kesoglou]
* Import balena-release [Akis Kesoglou]
* Import balena-compose-parse [Akis Kesoglou]
* Import resin-bundle-resolve [Akis Kesoglou]
* Import resin-docker-build [Akis Kesoglou]
* Import balena-multibuild [Akis Kesoglou]

# v0.0.1
## (2022-04-15)

* Add scaffolding [Akis Kesoglou]
